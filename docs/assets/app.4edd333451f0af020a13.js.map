{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/front/Root.js","webpack:///./src/front/components/backToTop/BackToTop.js","webpack:///./src/front/components/backToTop/backToTopButton/BackToTopButton.js","webpack:///./src/front/components/backToTop/backToTopButton/UpIcon.js","webpack:///./src/front/components/backToTop/backToTopButton/styled/WithRightMargin.js","webpack:///./src/front/components/loadingContent/LoadingContent.js","webpack:///./src/front/components/loadingContent/index.js","webpack:///./src/front/components/logoutRoute/LogoutRoute.js","webpack:///./src/front/components/logoutRoute/index.js","webpack:///./src/front/components/navigation/NavigationBar.js","webpack:///./src/front/components/navigation/index.js","webpack:///./src/front/components/privateRoute/PrivateRoute.js","webpack:///./src/front/components/privateRoute/index.js","webpack:///./src/front/components/scrollToTop/ScrollToTop.js","webpack:///./src/front/config/appConfig.js","webpack:///./src/front/config/navigation.js","webpack:///./src/front/contexts/auth/consumerHOC/index.js","webpack:///./src/front/contexts/auth/context/index.js","webpack:///./src/front/contexts/auth/providerComponent/index.js","webpack:///./src/front/contexts/withDevTools/index.js","webpack:///./src/front/hoc/withEnterAnimation/index.js","webpack:///./src/front/hoc/withEnterAnimation/styled/AnimatedDiv.js","webpack:///./src/front/hoc/withEnterAnimation/withEnterAnimation.js","webpack:///./src/front/hoc/withMainLayout/index.js","webpack:///./src/front/hoc/withMainLayout/withMainLayout.js","webpack:///./src/front/hoc/withSuspense/index.js","webpack:///./src/front/hoc/withSuspense/withSuspense.js","webpack:///./src/front/index.js","webpack:///./src/front/pages/login/Login.js","webpack:///./src/front/pages/login/index.js","webpack:///./src/front/routes/MainRoutes.js","webpack:///./src/front/services/API/fetchTools.js","webpack:///./src/front/services/auth/index.js","webpack:///./src/front/services/sw/registerServiceWorker.js","webpack:///./src/front/style/injectGlobalStyles.js"],"names":["MainApp","history","Root","devToolsStore","init","Login","BackToTop","windowScrollY","showBackButton","tickingScollObserve","window","state","minScrollY","props","currentWindowScrollY","pageYOffset","undefined","document","documentElement","body","parentNode","scrollTop","requestAnimationFrame","shouldShowBackButton","setState","event","preventDefault","scroll","top","left","behavior","onScrollDone","addEventListener","handleWindowScroll","removeEventListener","x","stiff","handlesOnBackButtonClick","WebkitTransform","transform","defaultBackGroundColor","sideOffset","bottomOffset","defaultWidth","defaultZindex","defaultOpacity","defaultStyle","position","right","bottom","width","zIndex","opacity","backgroundColor","BackToTopButton","onClick","children","motionStyle","buttonStyle","setPosition","btn","defaultProps","displayName","refStyle","style","UpIcon","color","WithRightMargin","div","LoadingContent","LogoutRoute","disconnectUser","pathname","NavigationBar","isOpen","evt","prevIsOpened","link","push","brand","rightLinks","navModel","isAuthenticated","toggle","map","index","label","viewName","handlesNavItemClick","handlesDisconnect","PrivateRoute","InnerComponent","component","rest","location","isTokenExpired","from","checkTokenIsExpired","isExpired","ScrollToTop","prevProps","prevLocation","nextLocation","scrollTo","appConfig","DEV_MODE","sw","path","navigation","leftLinks","view","isRouteBtn","withAuth","BaseComponent","WithAuth","passProps","fromAuthProps","authDefault","lastAuthDate","AuthContext","AuthContextProvider","Provider","AuthContextConsumer","Consumer","initialState","token","user","isExpiredToken","AuthProvider","checkUserHasId","id","getUserInfo","getToken","dispatch","type","auth","setToken","setUserInfo","clearAllAppStorage","checkIsAuthenticated","isDEV","withDevTools","__REDUX_DEVTOOLS_EXTENSION__","devTools","connect","reducer","action","context","Error","Array","isArray","newState","send","fadeIn","AnimatedDiv","viewEnter","withEnterAnimation","WithEnterAnimation","withMainLayout","WithMainLayout","navigationModel","registerServiceWorker","match","handleLeftNavItemClick","handleRightNavItemClick","withSuspense","WithSuspense","ELEMENT_TO_BOOTSTRAP","bootstrapedElement","getElementById","root","polyfill","__forceSmoothScrollPolyfill__","snapSaveState","__LOADABLE_STATE__","renderApp","RootComponent","Application","render","email","password","isLogging","target","value","trim","userLogin","login","logUser","response","data","console","log","__SOME_LOGIN_API__","url","method","headers","options","credentials","Promise","resolve","setTimeout","userInfoMock","request","withCredentials","Accept","reject","size","offset","handlesOnEmailChange","handlesOnPasswordChange","handlesOnLogin","goHome","AsyncHome","lazy","Home","AsyncAbout","About","AsyncProtected","Protected","AsyncPageNotFound","PageNotFound","MainRoutes","getLocationOrigin","origin","protocol","hostname","port","getMethod","postMethod","defaultOptions","jsonHeader","encodeBase64","stringToEncode","encode","TOKEN_KEY","USER_INFO","APP_PERSIST_STORES_TYPES","parse","JSON","stringify","fromStorage","tokenKey","localStorage","getItem","sessionStorage","toStorage","length","setItem","clearToken","storage","removeItem","getTokenExpirationDate","encodedToken","Date","exp","expirationDate","rightNow","userInfoKey","clearUserInfo","clear","swPath","navigator","serviceWorker","register","then","registration","catch","registrationError","injectGlobalStyle"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAiB,4BAA4B;AAC7C;AACA;AACA,0BAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,kDAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA,yCAAiC;;AAEjC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAwB,kCAAkC;AAC1D,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;AAEA;;AAGA;AAEA;AACA,I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","file":"app.4edd333451f0af020a13.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".\" + \"4edd333451f0af020a13\" + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tfunction onScriptComplete(event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/front/index.js\",\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport compose from 'recompose/compose';\nimport createHistory from 'history/createBrowserHistory';\nimport withMainLayout from './hoc/withMainLayout';\nimport MainRoutes from './routes/MainRoutes';\nimport ScrollToTop from './components/scrollToTop/ScrollToTop';\nimport LogoutRoute from './components/logoutRoute';\nimport AuthProvider from './contexts/auth/providerComponent';\nimport { devToolsStore } from './contexts/withDevTools';\nimport Login from './pages/login';\n// #endregion\n\n// #region flow types\ntype Props = any;\ntype State = any;\n// #endregion\n\n// #region constants\nconst MainApp = compose(withMainLayout())(MainRoutes);\n\nconst history = createHistory();\n// #endregion\n\nclass Root extends Component<Props, State> {\n  componentDidMount() {\n    // init devTools (so that will be visible in Chrome redux devtools tab):\n    devToolsStore && devToolsStore.init();\n  }\n\n  render() {\n    return (\n      <Router history={history}>\n        <AuthProvider>\n          <ScrollToTop>\n            <Switch>\n              <Route exact path=\"/login\" component={Login} />\n              {/* Application with main layout (could have multiple applications with different layouts) */}\n              <MainApp />\n              {/* logout: just redirects to login (App will take care of removing the token) */}\n              <LogoutRoute path=\"/logout\" />\n            </Switch>\n          </ScrollToTop>\n        </AuthProvider>\n      </Router>\n    );\n  }\n}\n\nexport default Root;\n","// @flow\n/* eslint-disable no-undefined */\n\n// #region imports\nimport React, { Component } from 'react';\nimport BackToTopButton from './backToTopButton/BackToTopButton';\nimport { Motion, spring, presets } from 'react-motion';\n// #endregion\n\n// #region flow types\ntype Props = {\n  minScrollY: number,\n  scrollTo?: string,\n  onScrollDone?: () => any,\n};\n\ntype State = {\n  windowScrollY: number,\n  showBackButton: boolean,\n  tickingScollObserve: boolean,\n};\n// #endregion\n\nclass BackToTop extends Component<Props, State> {\n  static defaultProps = {\n    minScrollY: 120,\n    onScrollDone: () => {},\n  };\n\n  state = {\n    windowScrollY: 0,\n    showBackButton: false,\n    tickingScollObserve: false,\n  };\n\n  // #region lifecycle methods\n  componentWillMount() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', this.handleWindowScroll);\n    }\n  }\n\n  componentWillUnmount() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('scroll', this.handleWindowScroll);\n    }\n  }\n\n  render() {\n    const { showBackButton } = this.state;\n    return (\n      <Motion style={{ x: spring(showBackButton ? 0 : 120, presets.stiff) }}>\n        {({ x }) => (\n          <BackToTopButton\n            position={'bottom-right'}\n            onClick={this.handlesOnBackButtonClick}\n            motionStyle={{\n              WebkitTransform: `translate3d(${x}px, 0, 0)`,\n              transform: `translate3d(${x}px, 0, 0)`,\n            }}\n          />\n        )}\n      </Motion>\n    );\n  }\n  // #endregion\n\n  // #region on windows scroll callback\n  handleWindowScroll = () => {\n    if (window) {\n      const { windowScrollY, tickingScollObserve } = this.state;\n      const { minScrollY } = this.props;\n\n      /* eslint-disable no-undefined */\n      const currentWindowScrollY =\n        window.pageYOffset !== undefined\n          ? window.pageYOffset\n          : (\n              document.documentElement ||\n              document.body.parentNode ||\n              document.body\n            ).scrollTop;\n      /* eslint-enable no-undefined */\n\n      // scroll event fires to often, using window.requestAnimationFrame to limit computations\n      if (!tickingScollObserve) {\n        window.requestAnimationFrame(() => {\n          if (windowScrollY !== currentWindowScrollY) {\n            const shouldShowBackButton =\n              currentWindowScrollY >= minScrollY ? true : false;\n\n            this.setState({\n              windowScrollY: currentWindowScrollY,\n              showBackButton: shouldShowBackButton,\n            });\n          }\n          this.setState({ tickingScollObserve: false });\n        });\n      }\n\n      this.setState({ tickingScollObserve: true });\n    }\n  };\n  // #endregion\n\n  // #region on button click (smooth scroll)\n  handlesOnBackButtonClick = (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    const { minScrollY } = this.props;\n    const { windowScrollY } = this.state;\n\n    if (window && windowScrollY && windowScrollY > minScrollY) {\n      // using here smoothscroll-polyfill\n      window.scroll({ top: 0, left: 0, behavior: 'smooth' });\n      // smoothScroll.scrollTo(scrollTo, this.scrollDone);\n    }\n  };\n\n  scrollDone = () => {\n    const { onScrollDone } = this.props;\n    if (onScrollDone) {\n      onScrollDone();\n    }\n  };\n  // #endregion\n}\n\nexport default BackToTop;\n","// @flow\n\n// #region imports\nimport React from 'react';\nimport cx from 'classnames';\nimport UpIcon from './UpIcon';\nimport WithRightMargin from './styled/WithRightMargin';\n// #endregion\n\n// #region flow types\ntype Props = {\n  position: 'bottom-left' | 'bottom-right',\n  onClick: (event: SyntheticEvent<>) => any,\n  children: any,\n  motionStyle: any,\n  ...any,\n};\n// #endregion\n\n// #region constants\nconst defaultBackGroundColor = '#4A4A4A';\nconst sideOffset = '-10px';\nconst bottomOffset = '40px';\nconst defaultWidth = '100px';\nconst defaultZindex = 10;\nconst defaultOpacity = 0.5;\nconst defaultStyle = {\n  position: 'fixed',\n  right: sideOffset,\n  left: '',\n  bottom: bottomOffset,\n  width: defaultWidth,\n  zIndex: defaultZindex,\n  opacity: defaultOpacity,\n  backgroundColor: defaultBackGroundColor,\n};\n// #endregion\n\nconst BackToTopButton = ({\n  onClick,\n  position,\n  children,\n  motionStyle,\n}: Props) => {\n  const buttonStyle = setPosition(position, {\n    ...motionStyle,\n    ...defaultStyle,\n  });\n\n  return (\n    <button\n      style={buttonStyle}\n      className={cx({\n        btn: true,\n      })}\n      onClick={onClick}\n    >\n      {!children && (\n        <WithRightMargin>\n          <UpIcon color={'#F1F1F1'} />\n        </WithRightMargin>\n      )}\n      {!!children && children}\n    </button>\n  );\n};\n\n// #region statics\nBackToTopButton.defaultProps = {\n  position: 'bottom-right',\n};\n\nBackToTopButton.displayName = 'BackToTopButton';\n// #endregion\n\n// #region helpers\nfunction setPosition(position = 'bottom-right', refStyle = defaultStyle): any {\n  const style = { ...refStyle };\n\n  switch (position) {\n    case 'bottom-right':\n      style.right = sideOffset;\n      style.left = '';\n      return style;\n\n    case 'bottom-left':\n      style.right = '';\n      style.left = sideOffset;\n      return style;\n\n    default:\n      return refStyle;\n  }\n}\n// #endregion\n\nexport default BackToTopButton;\n","// @flow\n\n// #region imports\nimport React from 'react';\n// #endregion\n\n// #region flow types\ntype Props = {\n  color: string,\n};\n// #endregion\n\nconst UpIcon = ({ color }: Props) => {\n  return (\n    <svg width=\"24px\" height=\"24px\" viewBox=\"0 0 512 512\" fill={`${color}`}>\n      <path\n        d=\"M256,213.7L256,213.7L256,213.7l174.2,167.2c4.3,4.2,11.4,4.1,15.8-0.2l30.6-29.9c4.4-4.3,4.5-11.3,0.2-15.5L264.1,131.1\n      c-2.2-2.2-5.2-3.2-8.1-3c-3-0.1-5.9,0.9-8.1,3L35.2,335.3c-4.3,4.2-4.2,11.2,0.2,15.5L66,380.7c4.4,4.3,11.5,4.4,15.8,0.2L256,213.7z\"\n      />\n    </svg>\n  );\n};\n\n// #region statics\nUpIcon.defaultProps = {\n  color: '#F1F1F1',\n};\n\nUpIcon.displayName = 'UpIcon';\n// #endregion\n\nexport default UpIcon;\n","// @flow\n\n// #region imports\nimport styled from 'styled-components';\n// #endregion\n\nconst WithRightMargin = styled.div`\n  margin-right: 10px;\n`;\n\nexport default WithRightMargin;\n","// @flow\n\n// #region imports\nimport React from 'react';\n// #endregion\n\n// #region flow types\ntype Props = {\n  ...any,\n};\n// #endregion\n\nfunction LoadingContent(props: Props) {\n  return <div>loading...</div>;\n}\n\nexport default LoadingContent;\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport LoadingContent from './LoadingContent';\n// #endregion\n\nexport default compose()(LoadingContent);\n","// @flow\n\n// #region imports\nimport React, { PureComponent } from 'react';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type AuthContextProps } from '../../contexts/auth/consumerHOC';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  ...any,\n} & AuthContextProps;\n\ntype State = any;\n// #endregion\n\nclass LogoutRoute extends PureComponent<Props, State> {\n  // #region lifecycle\n  componentDidMount() {\n    const { disconnectUser } = this.props;\n    disconnectUser();\n  }\n\n  render() {\n    return (\n      <Route {...this.props}>\n        <Redirect to={{ pathname: '/login' }} />\n      </Route>\n    );\n  }\n  // #endregion\n}\n\nexport default withRouter(LogoutRoute);\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport LgoutRoute from './LogoutRoute';\nimport withAuth from '../../contexts/auth/consumerHOC';\n// #endregion\n\nexport default compose(withAuth())(LgoutRoute);\n","// @flow\n\n// #region imports\nimport React, { PureComponent } from 'react';\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from 'reactstrap';\nimport { withRouter } from 'react-router-dom';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type AuthContextProps } from '../../contexts/auth/consumerHOC';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // withRouter HOC:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  // parent props:\n  brand: string,\n  handleLeftNavItemClick: OnLeftNavButtonClick,\n  handleRightNavItemClick: OnRightNavButtonClick,\n  navModel: {\n    leftLinks: Array<LeftLink>,\n    rightLinks: Array<RightLink>,\n  },\n\n  ...any,\n} & AuthContextProps;\n\ntype State = {\n  isOpen: boolean,\n  ...any,\n};\n// #endregion\n\nclass NavigationBar extends PureComponent<Props, State> {\n  static defaultProps = {\n    brand: 'brand',\n  };\n\n  state = {\n    isOpen: false,\n  };\n\n  // #region lifecycle\n  render() {\n    const {\n      brand,\n      navModel: { rightLinks },\n      isAuthenticated,\n    } = this.props;\n\n    const { isOpen } = this.state;\n\n    return (\n      <Navbar color=\"light\" light expand=\"md\">\n        <NavbarBrand href=\"/\">{brand}</NavbarBrand>\n        <NavbarToggler onClick={this.toggle} />\n        <Collapse isOpen={isOpen} navbar>\n          <Nav className=\"ml-auto\" navbar>\n            {rightLinks.map(({ label, link, viewName }, index) => (\n              <NavItem key={`${index}`}>\n                <NavLink href=\"#\" onClick={this.handlesNavItemClick(link)}>\n                  {label}\n                </NavLink>\n              </NavItem>\n            ))}\n            {isAuthenticated && (\n              <NavItem>\n                <NavLink href=\"#\" onClick={this.handlesDisconnect}>\n                  Disconnect\n                </NavLink>\n              </NavItem>\n            )}\n          </Nav>\n        </Collapse>\n      </Navbar>\n    );\n  }\n  // #endregion\n\n  // #region navigation bar toggle\n  toggle = (evt: SyntheticEvent<>) => {\n    if (evt) {\n      evt.preventDefault();\n    }\n    this.setState(({ isOpen: prevIsOpened }) => ({ isOpen: !prevIsOpened }));\n  };\n  // #endregion\n\n  // #region handlesNavItemClick event\n  handlesNavItemClick = (link: string = '/') => (evt: SyntheticEvent<>) => {\n    if (evt) {\n      evt.preventDefault();\n    }\n    const { history } = this.props;\n    history.push(link);\n  };\n  // #endregion\n\n  // #region disconnect\n  handlesDisconnect = (evt: SyntheticEvent<>) => {\n    if (evt) {\n      evt.preventDefault();\n    }\n    const { history, disconnectUser } = this.props;\n\n    disconnectUser();\n    history.push('/');\n  };\n  // #endregion\n}\n\nexport default withRouter(NavigationBar);\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport withAuth from '../../contexts/auth/consumerHOC';\nimport NavigationBar from './NavigationBar';\n// #endregion\n\nexport default compose(withAuth())(NavigationBar);\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { type AuthContextProps } from '../../contexts/auth/consumerHOC';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  // parent\n  component: any,\n  path: string,\n\n  ...any,\n} & AuthContextProps;\n\ntype State = any;\n// #endregion\n\nclass PrivateRoute extends Component<Props, State> {\n  // #region lifecycle\n  render() {\n    const { component: InnerComponent, ...rest } = this.props;\n    const { location, isAuthenticated } = this.props;\n\n    const isTokenExpired = false; // this.isExpired();\n\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isTokenExpired && isAuthenticated ? (\n            <InnerComponent {...props} />\n          ) : (\n            <Redirect to={{ pathname: '/login', state: { from: location } }} />\n          )\n        }\n      />\n    );\n  }\n  // #endregion\n\n  isExpired() {\n    const { checkTokenIsExpired } = this.props;\n    const isExpired = checkTokenIsExpired();\n    return isExpired;\n  }\n}\n\nexport default withRouter(PrivateRoute);\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport PrivateRoute from './PrivateRoute';\nimport withAuth from '../../contexts/auth/consumerHOC';\n// #endregion\n\nexport default compose(withAuth())(PrivateRoute);\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport { withRouter } from 'react-router';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  children: React.ReactNode,\n\n  ...any,\n};\ntype State = any;\n// #endregion\n\nclass ScrollToTop extends Component<Props, State> {\n  // #region lifecycle\n  componentDidUpdate(prevProps: Props) {\n    if (window) {\n      const { location: prevLocation } = prevProps;\n      const { location: nextLocation } = this.props;\n\n      if (prevLocation !== nextLocation) {\n        window.scrollTo(0, 0);\n      }\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n  // #endregion\n}\n\nexport default withRouter(ScrollToTop);\n","// @flow\n\nexport const appConfig = {\n  DEV_MODE: true, // block fetch\n\n  // sw path\n  sw: {\n    path: 'public/assets/sw.js',\n  },\n};\n\nexport default appConfig;\n","// @flow\n\n// #flow types\nexport type Link = {\n  label: string,\n  link: string,\n  view?: string,\n  isRouteBtn?: boolean,\n};\n\nexport type Navigation = {\n  brand: string,\n  leftLinks: Array<Link>,\n  rightLinks: Array<Link>,\n};\n// #endregion\n\nconst navigation = {\n  brand: 'React Bootstrap Starter',\n  leftLinks: [],\n  rightLinks: [\n    {\n      label: 'Home',\n      link: '/',\n    },\n    {\n      label: 'Protected',\n      link: '/protected',\n      view: 'protected',\n      isRouteBtn: true,\n    },\n    {\n      label: 'About',\n      link: '/about',\n      view: 'about',\n      isRouteBtn: true,\n    },\n  ],\n};\n\nexport default navigation;\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport { AuthContextConsumer } from '../context/index';\nimport { type AuthProviderState } from '../providerComponent';\n// #endregion\n\n// #region flow types\nexport type AuthContextProps = { ...any } & AuthProviderState;\n// #endregion\n\n// #region CONSUMER HOC\nexport default function withAuth(/* additionnal args if needed */) {\n  return BaseComponent => {\n    class WithAuth extends Component<any, any> {\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AuthContextConsumer>\n            {(fromAuthProps: AuthContextProps) => (\n              <BaseComponent {...fromAuthProps} {...passProps} />\n            )}\n          </AuthContextConsumer>\n        );\n      }\n    }\n\n    // #region add static displayName for dev\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      WithAuth.displayName = wrapDisplayName(BaseComponent, 'WithAuth');\n    }\n    /* eslint-enable no-process-env */\n    // #endregion\n\n    return WithAuth;\n  };\n}\n// #endregion\n","// @flow\n\n// #region imports\nimport { createContext } from 'react';\n// #endregion\n\n// #region flow types\nexport type User = {\n  email: string,\n};\n\nexport type AuthData = {\n  isAuthenticated: boolean,\n  isExpiredToken: boolean,\n  lastAuthDate?: Date,\n\n  token: string,\n  user: User,\n  ...any,\n};\n// #endregion\n\n// #region default context value\nexport const authDefault = {\n  isAuthenticated: false,\n  lastAuthDate: null,\n};\n// #endregion\n\n// #region context\nconst AuthContext = createContext({\n  ...authDefault,\n});\n\nexport const AuthContextProvider = AuthContext.Provider;\nexport const AuthContextConsumer = AuthContext.Consumer;\n// #endregion\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport { AuthContextProvider, type AuthData, type User } from '../context';\nimport auth from '../../../services/auth';\nimport { devToolsStore } from '../../withDevTools';\n// #endregion\n\n// #region flow types\nexport type AuthProviderProps = {\n  initialState: {} & AuthData,\n};\nexport type AuthProviderState = {\n  checkIsAuthenticated: () => boolean,\n  checkTokenIsExpired: () => boolean,\n  setToken: (token: string) => any,\n  setUserInfo: (user: User) => any,\n  disconnectUser: () => boolean,\n\n  ...any,\n} & AuthData;\n// #endregion\n\n// #region constants\nconst initialState = {\n  token: null,\n  user: null,\n  isAuthenticated: false,\n  isExpiredToken: true,\n  lastAuthDate: null,\n};\n// #endregion\n\n// #region PROVIDER component\nexport default class AuthProvider extends Component<\n  AuthProviderProps,\n  AuthProviderState,\n> {\n  static defaultProps = {\n    initialState: {\n      ...initialState,\n    },\n  };\n\n  // #region lifecyle\n  constructor(props) {\n    super(props);\n\n    // initialize state in constructor (otherwise function won't be passed)\n    this.state = {\n      ...this.props.initialState,\n      checkIsAuthenticated: this.checkIsAuthenticated,\n      checkTokenIsExpired: this.checkTokenIsExpired,\n      disconnectUser: this.disconnectUser,\n      setToken: this.setToken,\n      setUserInfo: this.setUserInfo,\n    };\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <AuthContextProvider\n        value={{\n          ...this.state,\n        }}\n      >\n        {' '}\n        {children}{' '}\n      </AuthContextProvider>\n    );\n  }\n  // #endregion\n\n  checkIsAuthenticated = (): boolean => {\n    const checkUserHasId = user => user && user.id;\n    const user = auth.getUserInfo() ? auth.getUserInfo() : null;\n    const isAuthenticated = auth.getToken() && checkUserHasId(user);\n\n    devToolsStore &&\n      devToolsStore.dispatch({\n        type: 'AUTH_CHECK_IS_AUTHENTICATED',\n        state: { ...this.state, isAuthenticated },\n      });\n\n    this.setState({\n      isAuthenticated,\n    });\n    return isAuthenticated;\n  };\n\n  checkTokenIsExpired = (): boolean => {\n    const token = auth.getToken();\n    const isExpiredToken = auth.isExpiredToken(token);\n\n    devToolsStore &&\n      devToolsStore.dispatch({\n        type: 'AUTH_CHECK_TOKEN_IS_EXPIRED',\n        state: { ...this.state, isExpiredToken },\n      });\n\n    this.setState({\n      isExpiredToken,\n    });\n    return isExpiredToken;\n  };\n\n  setToken = (token: string = '') => {\n    auth.setToken(token);\n\n    devToolsStore &&\n      devToolsStore.dispatch({\n        type: 'AUTH_SET_TOKEN',\n        state: { ...this.state, token, isAuthenticated: true },\n      });\n\n    this.setState({ token, isAuthenticated: true });\n  };\n\n  setUserInfo = (user: User = null) => {\n    if (typeof user === 'object') {\n      auth.setUserInfo(user);\n\n      devToolsStore &&\n        devToolsStore.dispatch({\n          type: 'AUTH_SET_USER_INFO',\n          state: { ...this.state, user },\n        });\n\n      this.setState({ user });\n    }\n  };\n\n  disconnectUser = (): boolean => {\n    auth.clearAllAppStorage();\n    this.checkIsAuthenticated();\n\n    devToolsStore &&\n      devToolsStore.dispatch({\n        type: 'AUTH_DISCONNECT_USER',\n        state: { ...initialState },\n      });\n\n    this.setState({ ...initialState });\n\n    return true;\n  };\n}\n// #endregion\n","// @flow\n\n// #region flow types\nexport type DevToolsMessageType = 'DISPATCH' | string;\n\nexport type DevToolsMessagePayload = {\n  type?: string,\n  state?: any,\n  ...any,\n};\n\nexport type DevToolsMessage = {\n  type?: DevToolsMessageType,\n  payload?: DevToolsMessagePayload,\n  ...any,\n};\n\nexport type DevTools = {\n  connect: () => any,\n  subscribe: (message: DevToolsMessage) => any,\n  send: (type: string, state: any) => any,\n  unsubscribe: () => any,\n  dispatch: (action: { type: string, ...any }) => any,\n  disconnect: () => any,\n  ...any,\n};\n// #endregion\n\n// #region constants\nconst isDEV = process.env.NODE_ENV === 'development';\n\nexport const withDevTools =\n  isDEV && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n\n// $FlowIgnore\nconst devTools: DevTools = !withDevTools\n  ? null\n  : window.__REDUX_DEVTOOLS_EXTENSION__.connect();\n// #endregion\n\n// #region devtools reducer\nconst initialState = {\n  auth: {},\n};\n\nexport const reducer = (\n  state: any = initialState,\n  action: { type: string, ...any },\n) => {\n  /* eslint-disable no-unused-vars */\n  switch (action.type) {\n    // #region auth context\n    case 'AUTH_CHECK_IS_AUTHENTICATED':\n    case 'AUTH_CHECK_TOKEN_IS_EXPIRED':\n    case 'AUTH_SET_TOKEN':\n    case 'AUTH_SET_USER_INFO':\n    case 'AUTH_DISCONNECT_USER': {\n      const { type, state: context, ...rest } = action;\n      return { ...state, user: { context, ...rest } };\n    }\n    // #endregion\n\n    default:\n      return state;\n  }\n  /* eslint-enable no-unused-vars */\n};\n// #endregion\n\n// #region singleton devtools local state\nlet state;\n// #endregion\n\n// #region devToolsStore (redux like)\n\nexport const devToolsStore = !withDevTools\n  ? null\n  : {\n      ...devTools,\n      dispatch: action => {\n        // #region action validation\n        if (!action) {\n          throw new Error('devTools dispatched action should be defined');\n        }\n        if (typeof action === 'function') {\n          throw new Error('devTools dispatched action should be an object');\n        }\n        if (typeof action !== 'object') {\n          throw new Error('devTools dispatched action should be an object');\n        }\n        if (Array.isArray(action)) {\n          throw new Error('devTools dispatched action should be an object');\n        }\n        // #endregion\n\n        const newState = reducer(state, action);\n        state = newState;\n\n        devTools && devTools.send({ ...action }, newState);\n      },\n    };\n// #endregion\n","// @flow\n\nimport withEnterAnimation from './withEnterAnimation';\n\nexport default withEnterAnimation;\n","// @flow\n\n// @region imports\nimport styled, { keyframes, css } from 'styled-components';\n// #endregion\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n`;\n\nconst AnimatedDiv = styled.div`\n  ${({ viewEnter }) =>\n    viewEnter &&\n    css`\n      opacity: 0;\n      animation-name: ${fadeIn};\n      animation-timing-function: ease-in;\n      animation-duration: 0.7s;\n      animation-delay: 0s;\n      animation-fill-mode: both;\n    `};\n`;\n\nexport default AnimatedDiv;\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport AnimatedDiv from './styled/AnimatedDiv';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withEnterAnimation() {\n  return (BaseComponent: any) => {\n    class WithEnterAnimation extends Component<Props, State> {\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AnimatedDiv viewEnter={true}>\n            <BaseComponent {...passProps} />\n          </AnimatedDiv>\n        );\n      }\n    }\n\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n      WithEnterAnimation.displayName = wrapDisplayName(\n        BaseComponent,\n        'withEnterAnimation',\n      );\n    }\n    /* eslint-enable no-process-env */\n\n    return WithEnterAnimation;\n  };\n}\n\nexport default withEnterAnimation;\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport withMainLayout from './withMainLayout';\n// #endregion\n\nexport default compose()(withMainLayout);\n","// @flow\n\n// #region imports\nimport React, { Component } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport compose from 'recompose/compose';\nimport { withRouter } from 'react-router';\nimport { type Match, type Location, type RouterHistory } from 'react-router';\nimport Container from 'reactstrap/lib/Container';\nimport NavigationBar from '../../components/navigation';\nimport BackToTop from '../../components/backToTop/BackToTop';\nimport navigationModel from '../../config/navigation';\nimport { type Navigation } from '../../config/navigation';\nimport registerServiceWorker from '../../services/sw/registerServiceWorker';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // from withRouter HOC:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  ...any,\n};\n\ntype State = {\n  navModel: Navigation,\n\n  ...any,\n};\n// #endregion\n\n// #region withMainLayout HOC\nfunction withMainLayout(/* no args option yet, but could pass them here */) {\n  return BaseComponent => {\n    // #region returned Component\n    class WithMainLayout extends Component<Props, State> {\n      state = { navModel: navigationModel };\n\n      // #region lifecycle\n      componentDidMount() {\n        // register service worker (no worry about multiple attempts to register, browser will ignore when already registered)\n        registerServiceWorker();\n      }\n\n      render() {\n        /* eslint-disable no-unused-vars */\n        const { history, location, match, ...passProps } = this.props;\n        /* eslint-enable no-unused-vars */\n        const { navModel } = this.state;\n\n        return (\n          <div id=\"appContainer\">\n            <NavigationBar\n              brand={navModel.brand}\n              navModel={navModel}\n              handleLeftNavItemClick={this.handleLeftNavItemClick}\n              handleRightNavItemClick={this.handleRightNavItemClick}\n            />\n            <Container fluid>\n              <BaseComponent {...passProps} />\n            </Container>\n            <BackToTop minScrollY={40} scrollTo={'appContainer'} />\n          </div>\n        );\n      }\n      // #endregion\n\n      /* eslint-disable no-unused-vars*/\n      handleLeftNavItemClick = (event: SyntheticEvent<>, viewName: string) => {\n        // something to do here?\n      };\n\n      handleRightNavItemClick = (event: SyntheticEvent<>, viewName: string) => {\n        // something to do here?\n      };\n      /* eslint-enable no-unused-vars*/\n    }\n\n    // #region add static displayName for dev\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n      WithMainLayout.displayName = wrapDisplayName(\n        BaseComponent,\n        'withMainLayout',\n      );\n    }\n    /* eslint-enable no-process-env */\n    // #endregion\n\n    return compose(withRouter)(WithMainLayout);\n  };\n}\n// #endregion\n\nexport default withMainLayout;\n","// @flow\n\nimport withSuspense from './withSuspense';\n\nexport default withSuspense;\n","// @flow\n\n// #region imports\nimport React, { Component, Suspense } from 'react';\nimport wrapDisplayName from 'recompose/wrapDisplayName';\nimport LoadingContent from '../../components/loadingContent';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withSuspense() {\n  return (BaseComponent: any) => {\n    class WithSuspense extends Component<Props, State> {\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <Suspense fallback={<LoadingContent />}>\n            <BaseComponent {...passProps} />\n          </Suspense>\n        );\n      }\n    }\n\n    /* eslint-disable no-process-env */\n    if (process.env.NODE_ENV !== 'production') {\n      // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n      WithSuspense.displayName = wrapDisplayName(BaseComponent, 'withSuspense');\n    }\n    /* eslint-enable no-process-env */\n\n    return WithSuspense;\n  };\n}\n\nexport default withSuspense;\n","// @flow\n\n// #region imports\nimport '@babel/polyfill'; // NOTE: REALLY important to avoid \"regeneratorRuntime is not defined\"\nimport React from 'react';\nimport { hydrate, unstable_createRoot } from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport smoothScrollPolyfill from 'smoothscroll-polyfill';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport injectGlobalStyle from './style/injectGlobalStyles';\nimport Root from './Root';\n// #endregion\n\n// #region constants\nconst ELEMENT_TO_BOOTSTRAP = 'root';\nconst bootstrapedElement = document.getElementById(ELEMENT_TO_BOOTSTRAP);\nconst root = unstable_createRoot(bootstrapedElement);\n// #endregion\n\n// #region globals (styles, polyfill ...)\n// smoothscroll polyfill\nsmoothScrollPolyfill.polyfill();\n// force polyfill (even if browser partially implements it)\nwindow.__forceSmoothScrollPolyfill__ = true;\n\ninjectGlobalStyle();\n\nwindow.snapSaveState = () => ({\n  __LOADABLE_STATE__: {\n    children: [\n      {\n        id: '../pages/home',\n      },\n      {\n        id: '../pages/about',\n      },\n      {\n        id: '../pages/protected',\n      },\n      {\n        id: '../pages/pageNotFound',\n      },\n    ],\n  },\n});\n\n// #endregion\n\n// #region render (with hot reload if dev)\nconst renderApp = RootComponent => {\n  const Application = () => (\n    <AppContainer>\n      <RootComponent />\n    </AppContainer>\n  );\n\n  // // needed for react-snap:\n  // if (bootstrapedElement.hasChildNodes()) {\n  //   return hydrate(<Application />, bootstrapedElement);\n  // }\n\n  return root.render(<Application />);\n};\n\nrenderApp(Root);\n\nif (module.hot) {\n  module.hot.accept('./Root', () => {\n    const RootComponent = require('./Root').default;\n    renderApp(RootComponent);\n  });\n}\n// #endregion\n","// @flow\n\n// #region imports\nimport React, { PureComponent } from 'react';\nimport axios from 'axios';\nimport {\n  type Match,\n  type Location,\n  type RouterHistory,\n} from 'react-router-dom';\nimport Button from 'reactstrap/lib/Button';\nimport Row from 'reactstrap/lib/Row';\nimport Col from 'reactstrap/lib/Col';\nimport { appConfig } from '../../config/appConfig';\nimport { getLocationOrigin } from '../../services/API/fetchTools';\nimport userInfoMock from '../../mock/userInfo.json';\nimport { type AuthContextProps } from '../../contexts/auth/consumerHOC';\n// #endregion\n\n// #region flow types\ntype Props = {\n  // react-router 4:\n  match: Match,\n  location: Location,\n  history: RouterHistory,\n\n  ...any,\n} & AuthContextProps;\n\ntype State = {\n  email: string,\n  password: string,\n  isLogging: boolean,\n\n  ...any,\n};\n// #endregion\n\nclass Login extends PureComponent<Props, State> {\n  state = {\n    email: '',\n    password: '',\n    isLogging: false,\n  };\n\n  // #region lifecycle\n  componentDidMount() {\n    this.disconnectUser(); // diconnect user: remove token and user info\n  }\n\n  render() {\n    const { email, password, isLogging } = this.state;\n\n    return (\n      <div className=\"content\">\n        <Row>\n          <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n            <form className=\"form-horizontal\" noValidate>\n              <fieldset>\n                <legend>Login</legend>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputEmail\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Email\n                  </label>\n                  <Col lg={12}>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputEmail\"\n                      placeholder=\"Email\"\n                      autoComplete=\"username email\"\n                      value={email}\n                      onChange={this.handlesOnEmailChange}\n                    />\n                  </Col>\n                </div>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputPassword\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Password\n                  </label>\n                  <Col lg={12}>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"inputPassword\"\n                      placeholder=\"Password\"\n                      autoComplete=\"current-password\"\n                      value={password}\n                      onChange={this.handlesOnPasswordChange}\n                    />\n                  </Col>\n                </div>\n\n                <div className=\"form-group\">\n                  <Col lg={{ size: 12 }}>\n                    <Button\n                      className=\"login-button btn-block\"\n                      color=\"primary\"\n                      disabled={isLogging}\n                      onClick={this.handlesOnLogin}\n                    >\n                      {isLogging ? (\n                        <span>\n                          login in... &nbsp;\n                          <i className=\"fa fa-spinner fa-pulse fa-fw\" />\n                        </span>\n                      ) : (\n                        <span>Login</span>\n                      )}\n                    </Button>\n                  </Col>\n                </div>\n              </fieldset>\n            </form>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n            <div className=\"pull-right\">\n              <Button className=\"btn-block\" onClick={this.goHome}>\n                back to home\n              </Button>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  // #endregion\n\n  disconnectUser = () => {\n    const { disconnectUser } = this.props;\n    disconnectUser();\n  };\n\n  handlesOnEmailChange = (event: SyntheticEvent<>) => {\n    event.preventDefault();\n    // should add some validator before setState in real use cases\n    this.setState({ email: event.target.value.trim() });\n  };\n\n  handlesOnPasswordChange = (event: SyntheticEvent<>) => {\n    event.preventDefault();\n    // should add some validator before setState in real use cases\n    this.setState({ password: event.target.value.trim() });\n  };\n\n  handlesOnLogin = async (event: SyntheticEvent<>) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const { history, setToken, setUserInfo } = this.props;\n    const { email, password } = this.state;\n\n    const userLogin = {\n      login: email,\n      password: password,\n    };\n\n    try {\n      this.setState({ isLogging: true });\n      const response = await this.logUser(userLogin);\n      const {\n        data: { token, user },\n      } = response;\n\n      setToken(token);\n      setUserInfo(user);\n\n      this.setState({ isLogging: false });\n\n      history.push({ pathname: '/' }); // back to Home\n    } catch (error) {\n      this.setState({ isLogging: false });\n      /* eslint-disable no-console */\n      console.log('login went wrong..., error: ', error);\n      /* eslint-enable no-console */\n    }\n  };\n\n  logUser = async (login: string = '', password: string = '') => {\n    const __SOME_LOGIN_API__ = 'login';\n    const url = `${getLocationOrigin()}/${__SOME_LOGIN_API__}`;\n    const method = 'post';\n    const headers = {};\n    const options = {\n      credentials: 'same-origin',\n      data: {\n        login,\n        password,\n      },\n    };\n\n    if (appConfig.DEV_MODE) {\n      return new Promise(resolve =>\n        setTimeout(resolve({ data: userInfoMock }), 3000),\n      );\n    }\n\n    try {\n      const response = await axios.request({\n        method,\n        url,\n        withCredentials: true,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': '*',\n          ...headers,\n        },\n        ...options,\n      });\n\n      return Promise.resolve(response);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  goHome = (event: any) => {\n    if (event) {\n      event.preventDefault();\n    }\n    const { history } = this.props;\n    history.push({ pathname: '/' });\n  };\n}\n\nexport default Login;\n","// @flow\n\n// #region imports\nimport compose from 'recompose/compose';\nimport Login from './Login';\nimport withEnterAnimation from '../../hoc/withEnterAnimation';\nimport withAuth from '../../contexts/auth/consumerHOC';\n// #endregion\n\nexport default compose(\n  withEnterAnimation(/* no option yet */),\n  withAuth(),\n)(Login);\n","// @flow\n\n// #region imports\nimport React from 'react';\nimport compose from 'recompose/compose';\nimport withSuspense from '../hoc/withSuspense';\nimport { Route, Switch } from 'react-router';\nimport PrivateRoute from '../components/privateRoute';\n// #endregion\n\n// #region constants\nconst AsyncHome = React.lazy(() => import('../pages/home'));\nconst Home = compose(withSuspense())(AsyncHome);\n\nconst AsyncAbout = React.lazy(() => import('../pages/about'));\nconst About = compose(withSuspense())(AsyncAbout);\n\nconst AsyncProtected = React.lazy(() => import('../pages/protected'));\nconst Protected = compose(withSuspense())(AsyncProtected);\n\nconst AsyncPageNotFound = React.lazy(() => import('../pages/pageNotFound'));\nconst PageNotFound = compose(withSuspense())(AsyncPageNotFound);\n// #endregion\n\nconst MainRoutes = () => {\n  return (\n    <Switch>\n      {/* public views: */}\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/about\" component={About} />\n      {/* private views: need user to be authenticated */}\n      <PrivateRoute path=\"/protected\" component={Protected} />\n      <Route component={PageNotFound} />\n    </Switch>\n  );\n};\n\nexport default MainRoutes;\n","// @flow\n\n// #region imports\nimport { Base64 } from 'js-base64';\n// #endregion\n\n// #region  window.location.origin polyfill\nexport const getLocationOrigin = (): string => {\n  if (!window.location.origin) {\n    window.location.origin = `${window.location.protocol}//${\n      window.location.hostname\n    }${window.location.port ? ':' + window.location.port : ''}`;\n  }\n  return window.location.origin;\n};\n// #endregion\n\n// #region query options:\nexport const getMethod = {\n  method: 'get',\n};\n\nexport const postMethod = {\n  method: 'post',\n};\n\nexport const defaultOptions = {\n  credentials: 'same-origin',\n};\n\nexport const jsonHeader = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    // 'Access-control-Allow-Origin': '*'\n  },\n};\n// #endregion\n\n// #region general helpers\nexport const encodeBase64 = (stringToEncode: string = ''): string => {\n  return Base64.encode(stringToEncode);\n};\n// #endregion\n","// @flow\n\n// #region imports\nimport decode from 'jwt-decode';\nimport isAfter from 'date-fns/is_after';\n// #endregion\n\n// #region flow types\nexport type STORES_TYPES = 'localStorage' | 'sessionStorage';\nexport type Storage = STORES_TYPES;\nexport type TokenKey = string;\nexport type UserInfoKey = string;\n// #endregion\n\n// #region constants\nconst TOKEN_KEY = 'token';\nconst USER_INFO = 'userInfo';\n\nconst APP_PERSIST_STORES_TYPES: Array<STORES_TYPES> = [\n  'localStorage',\n  'sessionStorage',\n];\n\nconst parse = JSON.parse;\nconst stringify = JSON.stringify;\n// #endregion\n\n/*\n  auth object\n  -> store \"TOKEN_KEY\"\n  - default storage is \"localStorage\"\n  - default token key is 'token'\n */\nexport const auth = {\n  // /////////////////////////////////////////////////////////////\n  // TOKEN\n  // /////////////////////////////////////////////////////////////\n\n  /**\n   * get token from localstorage\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [tokenKey=TOKEN_KEY]  optionnal parameter to specify a token key\n   * @returns {string} token value\n   */\n  getToken(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): ?string {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      return (localStorage && localStorage.getItem(tokenKey)) || null;\n    }\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      return (sessionStorage && sessionStorage.getItem(tokenKey)) || null;\n    }\n    // default:\n    return null;\n  },\n\n  /**\n   * set the token value into localstorage (managed by localforage)\n   *\n   * @param {string} [value=''] token value\n   * @param {'localStorage' | 'sessionStorage'} [toStorage='localStorage'] specify storage\n   * @param {any} [tokenKey='token'] token key\n   * @returns {boolean} success/failure flag\n   */\n  setToken(\n    value: string = '',\n    toStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): ?string {\n    if (!value || value.length <= 0) {\n      return;\n    }\n    // localStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage) {\n        localStorage.setItem(tokenKey, value);\n      }\n    }\n    // sessionStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage) {\n        sessionStorage.setItem(tokenKey, value);\n      }\n    }\n  },\n\n  /**\n   * check\n   * - if token key contains a valid token value (defined and not an empty value)\n   * - if the token expiration date is passed\n   *\n   *\n   * Note: 'isAuthenticated' just checks 'tokenKey' on store (localStorage by default or sessionStorage)\n   *\n   * You may think: 'ok I just put an empty token key and I have access to protected routes?''\n   *    -> answer is:  YES^^\n   * BUT\n   * -> : your backend will not recognize a wrong token so private data or safe and you protected view could be a bit ugly without any data.\n   *\n   * => ON CONCLUSION: this aim of 'isAuthenticated'\n   *    -> is to help for a better \"user experience\"  (= better than displaying a view with no data since server did not accept the user).\n   *    -> it is not a security purpose (security comes from backend, since frontend is easily hackable => user has access to all your frontend)\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [tokenKey=TOKEN_KEY] token key\n   * @returns {bool} is authenticed response\n   */\n  isAuthenticated(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): boolean {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage && localStorage.getItem(tokenKey)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage && sessionStorage.getItem(tokenKey)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    // default:\n    return false;\n  },\n\n  /**\n   * delete token\n   *\n   * @param {any} [tokenKey='token'] token key\n   * @returns {bool} success/failure flag\n   */\n  clearToken(\n    storage: Storage = APP_PERSIST_STORES_TYPES[0],\n    tokenKey: TokenKey = TOKEN_KEY,\n  ): boolean {\n    // localStorage:\n    if (localStorage && localStorage[tokenKey]) {\n      localStorage.removeItem(tokenKey);\n      return true;\n    }\n    // sessionStorage:\n    if (sessionStorage && sessionStorage[tokenKey]) {\n      sessionStorage.removeItem(tokenKey);\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\n   * return expiration date from token\n   *\n   * @param {string} encodedToken - base 64 token received from server and stored in local storage\n   * @returns {date | null} returns expiration date or null id expired props not found in decoded token\n   */\n  getTokenExpirationDate(encodedToken: any): Date {\n    if (!encodedToken) {\n      return new Date(0); // is expired\n    }\n\n    const token = decode(encodedToken);\n    if (!token.exp) {\n      return new Date(0); // is expired\n    }\n\n    const expirationDate = new Date(token.exp * 1000);\n    return expirationDate;\n  },\n\n  /**\n   * tell is token is expired (compared to now)\n   *\n   * @param {string} encodedToken - base 64 token received from server and stored in local storage\n   * @returns {bool} returns true if expired else false\n   */\n  isExpiredToken(encodedToken: any): boolean {\n    const expirationDate = this.getTokenExpirationDate(encodedToken);\n    const rightNow = new Date();\n    const isExpiredToken = isAfter(rightNow, expirationDate);\n\n    return isExpiredToken;\n  },\n\n  // /////////////////////////////////////////////////////////////\n  // USER_INFO\n  // /////////////////////////////////////////////////////////////\n  /**\n   * get user info from localstorage\n   *\n   * @param {'localStorage' | 'sessionStorage'} [fromStorage='localStorage'] specify storage\n   * @param {any} [userInfoKey='userInfo']  optionnal parameter to specify a token key\n   * @returns {string} token value\n   */\n  getUserInfo(\n    fromStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    userInfoKey: UserInfoKey = USER_INFO,\n  ): ?string {\n    // localStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[0]) {\n      return (localStorage && parse(localStorage.getItem(userInfoKey))) || null;\n    }\n    // sessionStorage:\n    if (fromStorage === APP_PERSIST_STORES_TYPES[1]) {\n      return (\n        (sessionStorage && parse(sessionStorage.getItem(userInfoKey))) || null\n      );\n    }\n    // default:\n    return null;\n  },\n\n  /**\n   * set the userInfo value into localstorage\n   *\n   * @param {object} [value=''] token value\n   * @param {'localStorage' | 'sessionStorage'} [toStorage='localStorage'] specify storage\n   * @param {any} [userInfoKey='userInfo'] token key\n   * @returns {boolean} success/failure flag\n   */\n  setUserInfo(\n    value: string = '',\n    toStorage: Storage = APP_PERSIST_STORES_TYPES[0],\n    userInfoKey: UserInfoKey = USER_INFO,\n  ): any {\n    if (!value || value.length <= 0) {\n      return;\n    }\n    // localStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[0]) {\n      if (localStorage) {\n        localStorage.setItem(userInfoKey, stringify(value));\n      }\n    }\n    // sessionStorage:\n    if (toStorage === APP_PERSIST_STORES_TYPES[1]) {\n      if (sessionStorage) {\n        sessionStorage.setItem(userInfoKey, stringify(value));\n      }\n    }\n  },\n\n  /**\n   * delete userInfo\n   *\n   * @param {string} [userInfoKey='userInfo'] token key\n   * @returns {bool} success/failure flag\n   */\n  clearUserInfo(userInfoKey: UserInfoKey = USER_INFO): any {\n    // localStorage:\n    if (localStorage && localStorage[userInfoKey]) {\n      localStorage.removeItem(userInfoKey);\n    }\n    // sessionStorage:\n    if (sessionStorage && sessionStorage[userInfoKey]) {\n      sessionStorage.removeItem(userInfoKey);\n    }\n  },\n\n  // /////////////////////////////////////////////////////////////\n  // COMMON\n  // /////////////////////////////////////////////////////////////\n\n  /**\n   * forget me method: clear all\n   * @returns {bool} success/failure flag\n   */\n  clearAllAppStorage(): any {\n    if (localStorage) {\n      localStorage.clear();\n    }\n    if (sessionStorage) {\n      sessionStorage.clear();\n    }\n  },\n};\n\nexport default auth;\n","// @flow\n\n// #region  imports\nimport appConfig from '../../config/appConfig';\n// #endregion\n\n// #region constants\nconst { path: swPath } = appConfig.sw;\n// #endregion\n\nfunction registerServiceWorker(): void {\n  if (typeof window !== undefined) {\n    if ('serviceWorker' in navigator) {\n      window.addEventListener('load', () => {\n        // $FlowIgnore\n        navigator.serviceWorker\n          .register(swPath)\n          .then(registration => {\n            console.log('SW registered: ', registration);\n          })\n          .catch(registrationError => {\n            console.log('SW registration failed: ', registrationError);\n          });\n      });\n    }\n  }\n}\n\nexport default registerServiceWorker;\n","// @flow\n\n// #region imports\nimport { injectGlobal } from 'styled-components';\n// #endregion\n\nconst injectGlobalStyle = () => injectGlobal`\n  html, body {\n    margin: 0;\n    height: 100%;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n    &:hover {\n      text-decoration: none;\n    }\n  }\n`;\n\nexport default injectGlobalStyle;\n"],"sourceRoot":""}